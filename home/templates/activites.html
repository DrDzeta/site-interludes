{% extends "base.html" %}
{% load static %}

{% block head %}
<script src="{% static 'js/vis-timeline.min.js' %}"></script>
{% endblock %}

{% block nav_activite %}current{% endblock %}

{% block "content" %}
	{% if settings.display_planning %}
		<h2>Planning</h2>
		{% include "_planning.html" %}
	{% endif %}

	<h2>Activités</h2>
	<p>Durant tout l'événement, des jeux seront en libre-service et des tables disponibles pour jouer.
		Certaines activités ne pourront se faire qu'avec inscription au vue d'un nombre de places limité.
	</p>
	{% if settings.activity_submission_form %}
	<p>Vous pouver proposer une activité en remplissant <a href="{{ settings.activity_submission_form }}">ce formulaire</a>.</p>
	{% endif %}

	{% for activity in activities %}
		<h3 id="{{ activity.slug }}">{{ activity.title }}</h3>

		<dl>
			<dt>Durée :</dt><dd>{{ activity.pretty_duration }}</dd>
			<dt>Orga :</dt><dd>{{ activity.host_name }}</dd>
			<dt>Type :</dt><dd>{{ activity.pretty_type }}</dd>
			<dt>Places :</dt><dd>{{ activity.nb_participants }}</dd>
			{% if activity.times_and_places %}
			<dt>Heure/Lieu :</dt><dd>{% for act in activity.times_and_places %}
				{{ act.start|date:"l H:i" }} {{ act.room }}{% if not forloop.last %},<br> {% endif %}
				{% endfor %}
			</dd>
			{% endif %}
			<dt>Description :</dt>
		</dl>
		<div class="desc">
		{% if activity.desc_as_html %}
			{{ activity.description|safe }}
		{% else %}
		<p class="indent">{{ activity.description|linebreaksbr }}</p>
		{% endif %}
		</div>
	{% empty %}

	<p>Il n'y a aucune activité pour l'instant, revenez dans quelques jour pour avoir une liste plus remplie.</p>

	{% endfor %}
{% endblock %}
